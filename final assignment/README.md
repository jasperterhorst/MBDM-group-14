# README File

Created by: EPA141a Group 10

|       Name       | Student Number |
|:----------------:|:---------------|
|    Sjors Bol     | 4914392        |
|    Isaac Hall    | 4941810        |
|  Tijn van Weel   | 4724828        |
| Jasper ter Horst | 5115078        |


## Introduction

This project is based on a Dike Model developed for the EPA141A Model-based Decision-Making course from the TU Delft 
Engineering and Policy Analysis master's program. The project aims to analyze and optimize flood risk management 
strategies for the IJssel River's Dike Rings 4 and 5. By using Exploratory Modelling and Analysis (EMA) and robust 
optimization techniques, the study identifies effective policies to minimize flood-related deaths, damages, and 
investment costs under deep uncertainty. The findings provide valuable insights and recommendations for the Waterboard 
Groot-Salland.


## How to Use

To utilize this simulation model, follow the steps below:

1. Open the project in PyCharm
2. Go to Settings -> Project: MBDM-project -> Python Interpreter
3. Click "Add Interpreter"
4. Select "Add Local Interpreter"
5. Select Virtualenv Environment
6. Select New environment
7. Select Base interpreter as Python 3.11
8. Install the required dependencies by running:

    ```bash
    pip install -r requirements.txt
    ```
9. WARNING: RUNNING THIS TAKES MANY HOURS. 
However, we want to give you the option, so to run all files, click `run_all_files` play icon. This will run the \
notebooks and python file from step 1 throughout step 4.

Note 1: It's not necessary to manually run any other scripts as they are invoked by the above processes.

Note 2: It is also possible to actually run all files separately if one wants to make changes, however make sure to when making
a change also run the files that follow it. Here the order is: StepX_Simulate, StepX_Notebook, StepX_Simulate, 
StepX_Notebook, StepX_Simulate, StepX_Notebook

## Project Structure

The project is organized into the following directories:

**Root Directory**

**Purpose**: Stores scripts and data files required for the dike model simulation and optimization. While also storing
python simulation files and notebooks to visualize the results.
- `__init__.py`: Initializes the data module.
- `dike_model_function.py`: Contains the main functions for the dike model.
- `dike_model_optimization.py`: Script for optimizing the dike model.
- `dike_model_simulation.py`: Handles the simulation of the dike model.
- `EPAcourse_presentation.pptx`: A presentation related to the EPA course.
- `funs_dikes.py`: Functions specific to dike modeling.
- `funs_economy.py`: Economic functions used in the model.
- `funs_generate_network.py`: Functions to generate network structures.
- `funs_hydrostat.py`: Functions related to hydrological statistics.
- `pareto.py`: Script for Pareto analysis.
- `plotting_function.py`: Functions to plot the results of simulations and analyses.
- `Problem Formulations.ipynb`: Jupyter notebook detailing problem formulations.
- `problem_formulation.py`: Script for defining the problem formulation.
- `README.md`: Documentation and overview of the project.
- `requirements.txt`: List of dependencies required for the project.
- `rfr_IJssel.PNG`: Image file related to the IJssel region.
- `rfr_wlreduction.PNG`: Image file related to water level reduction.
- `run_all_files.py`: Script to execute all necessary files for the project.
- `run_simulation.sh`: Shell script to run the simulation.
- `Step1_Notebook_Open_Exploration.ipynb`: Jupyter notebook for open exploration in step 1.
- `Step1_Simulate_Open_Exploration.py`: Python script for open exploration simulation in step 1.
- `Step1b_Notebook_Policy_Impact_Exploration.ipynb`: Jupyter notebook for policy impact exploration.
- `Step2_Notebook_MORO_Optimisation_Outcomes.ipynb`: Jupyter notebook for MORO optimization outcomes.
- `Step2_Simulate_MORO_Optimisation.py`: Python script for MORO optimization simulation.
- `Step3_Notebook_SNR_and_Maximum_Regret.ipynb`: Jupyter notebook for SNR and maximum regret analysis on candidate 
policies.
- `Step3_Simulate_MORO_Policies_Under_Uncertainty.py`: Python script to simulate MORO candidate policies under uncertainty.
- `Step4_Notebook_MORO_Scenario_Discovery.ipynb`: Jupyter notebook for scenario discovery based on candidate policies
created with MORO.

**Other Directories**
- `data/`: Contains the input data used and the output data generated by the model.
  - `fragcurves/`: Input data for model.
  - `hydrology/`: Input data for model.
  - `losses_table/`: Input data for model.
  - `muskingum/`: Input data for model.
  - `output_data/`: Contains all datafiles of interest (CSVs) created by Step 1, 1b, 2, 3, and 4 python and notebook files.
  - `plots/`: Contains all plots of interest created using by our Step 1, 1b, 2, 3, and 4 python and notebook files.
  - `rating_curves/`: Input data for model.
- `PDF_notebooks/`: Contains all notebook transformed into PDF format for an easier read.
  - `Step1_Notebook_Open_Exploration-1.pdf/`: PDF file of notebook containing Step 1.
  - `Step1b_Notebook_Policy_Impact_Exploration.pdf/`: PDF file of notebook containing Step 1b.
  - `Step2_Notebook_MORO_Optimisation_Outcomes-1.pdf/`: PDF file of notebook containing Step 2.
  - `Step3_Notebook_SNR_and_Maximum_Regret.pdf/`: PDF file of notebook containing Step 3.
  - `Step4_Notebook_MORO_Scenario_Discovery.pdf/`: PDF file of notebook containing Step 4.
